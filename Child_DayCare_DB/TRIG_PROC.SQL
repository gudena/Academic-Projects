

create TRIGGER 'SALARY_COMPUTE'
AFTER INSERT ON 'CHILDDAYCARE'.'TIMING'
FOR EACH ROW
BEGIN
SELECT  C.CSSN,C.JOB_ID,J.BASIC_SALARY INTO @CSSN,@JID,@BASICSALARY FROM CARETAKER C JOIN JOB J ON J.JOB_ID = C.JOB_ID
WHERE C.CSSN = NEW.CSSN;
SET @SALARYCOMPUTED = (NEW.TIMEOUT - NEW.TIMEIN)*@BASICSALARY/10000;
INSERT INTO SALARYCOMPUTATION 
VALUES(@CSSN,NEW.TIME_ID,@JID, @SALARYCOMPUTED);
END;


